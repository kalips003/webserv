# server.conf

#######################
### GLOBAL SETTINGS ###

server_name myserver.local
listen 9999

# path to directory for temp files & fd
tmp_root	/tmp

#######################
### LOCATION BLOCKS ###

# DEFAULT
location / {
	root		www
	index		web_cat/index.html 	# default file to find if asked a directory
	autoindex	off			# enable / disable directory listing
	post_policy reject		# post_policy = reject | replace | append
	allowed_methods	GET
	cgi_interpreter /usr/bin/python3
	client_max_body_size	-1	# -1 for any size.
}

location /folder1 {
	autoindex	on			# enable / disable directory listing
	root folder1; hello cat
	post_policy replace		# post_policy = reject | replace | append
	allowed_methods	GET POST DELETE
    cgi /usr/bin/python3}

location /web_cat {
	root		web_cat
	index		index.html 	# default file to find if asked a directory
}


location /some/path {
	index		index.html 	# default file to find if asked a directory
	autoindex	on			# enable / disable directory listing
	post_policy reject		# post_policy = reject | replace | append
	allowed_methods	GET POST
	cgi_interpreter /usr/bin/python3
	client_max_body_size	-1	# -1 for any size.
}

location /images {
	post_policy replace
}

# errors HTTP cats
location /errors {
	root	errors
	allowed_methods	GET
}

#####################
### GLOBAL BLOCKS ###

# "content-type" of known extensions
mime_types {
	html	text/html;
	css		text/css;
	js		application/javascript;
	png		image/png;
	jpg		image/jpeg;
	jpeg	image/jpeg;
	gif		image/gif;
	txt		text/plain;
	ico		image/x-icon;
}

# path for known binary extensions
cgi {
	.py  /usr/bin/python3;
	.php /usr/bin/php-cgi;
}