# server.conf

# global settings
server_name myserver.local
listen 9999

# path to directory for temp files & fd
tmp_root	/tmp

# optional per-location settings
location /garbage {
	root /var/www/images; hello cat
    cgi /usr/bin/python3}

location / {
	root		www
	index		index.html 	# default file to find if asked a directory
	autoindex	on			# enable / disable directory listing
	post_policy reject		# post_policy = reject | replace | append
	allowed_methods	GET POST
	cgi_interpreter /usr/bin/python3
	client_max_body_size	-1
}

location /api {
    cgi /usr/bin/python3
}

# post_policy = reject | replace | append
location /upload {
	post_policy replace;
}

mime_types {
	html	text/html;
	css		text/css;
	js		application/javascript;
	png		image/png;
	jpg		image/jpeg;
	jpeg	image/jpeg;
	gif		image/gif;
	txt		text/plain;
}

cgi {
	.py  /usr/bin/python3;
	.php /usr/bin/php-cgi;
}