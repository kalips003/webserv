# server.conf

#######################
### GLOBAL SETTINGS ###

# path to directory for temp files / fd
tmp_root	tmp

#####################
### GLOBAL BLOCKS ###

# SERVER {	# DEFAULT IF NOT PRESENT

# 	listen					9999
# 	server_name				webserv.serv
# 	client_max_body_size	-1			# -1 for any size.

# 	location / {
# 		index				index.html 	# default file to find if asked a directory
# 		autoindex			off			# enable / disable directory listing
# 		post_policy 		reject		# post_policy = reject | replace | append
# 		allowed_methods		none		# GET POST PUT
# 		cgi_interpreter		none		#define a single cgi that can be used here
		
# 	} }

#####################
### CAT WEBSITE ###

server {

	listen			9999
	server_name		webcat.com
	root			www/webcat.com
	# root			/var/www/html;
	hello	hello
	client_max_body_size	-1	# -1 for any size.

	# DEFAULT
	location / {
		index			index.html 	# default file to find if asked a directory
		# root		only override	# (www/webcat.com)
		autoindex		off			# enable / disable directory listing
		post_policy 	reject		# post_policy = reject | replace | append
		allowed_methods	GET
		# cgi_interpreter /usr/bin/python3
	}
	# REDIRECT
	location /webcat.com {
		index			index.html 	# default file to find if asked a directory
		# root		only override	# (www/webcat.com)
		autoindex		off			# enable / disable directory listing
		post_policy 	reject		# post_policy = reject | replace | append
		allowed_methods	GET
		# cgi_interpreter /usr/bin/python3
	}

	location /donations {
		root			donations
		index		
		allowed_methods GET POST DELETE
		post_policy 	replace
	}

	#####################
	# errors HTTP cats
	location /errors {
		root			errors
		allowed_methods	GET
	}

}

#####################
server {

	listen					9998
	server_name				folder1
	root					www/folder1
	client_max_body_size	16000	# -1 for any size.

	# DEFAULT
	location / {
		index			index.html 		# default file to find if asked a directory
		autoindex		on; hello cat	# enable / disable directory listing
		post_policy 	replace			# post_policy = reject | replace | append
		allowed_methods	GET POST DELETE
		# cgi_interpreter /usr/bin/python3
	}



}

#####################
### GLOBAL BLOCKS ###

# "content-type" of known extensions
mime_types {
	html	text/html| charset=utf-8;
	css		text/css| charset=utf-8;
	js		application/javascript| charset=utf-8;
	png		image/png;
	jpg		image/jpeg;
	jpeg	image/jpeg;
	gif		image/gif;
	txt		text/plain;
	ico		image/x-icon;
}

# path for known binary extensions
cgi {
	.py  /usr/bin/python3;
	.php /usr/bin/php-cgi;
}