# server.conf

#######################
### GLOBAL SETTINGS ###

server_name myserver.local
listen 9999

# path to directory for temp files & fd
tmp_root	/tmp

#######################
### LOCATION BLOCKS ###

# DEFAULT
location / {
	root		/
	index		index.html 	# default file to find if asked a directory
	autoindex	on			# enable / disable directory listing
	post_policy reject		# post_policy = reject | replace | append
	allowed_methods	GET POST
	cgi_interpreter /usr/bin/python3
	client_max_body_size	-1	# -1 for any size.
}

location /garbage {
	root /var/www/images; hello cat
    cgi /usr/bin/python3}

location /var {
	index		index.html abc.txt index.php 	# default file to find if asked a directory
    allowed_methods	GET
}

location /upload {
	post_policy replace;
}

location /some {
	root abc
	post_policy replace;
}

location /some/path {
	index		index.html 	# default file to find if asked a directory
	autoindex	on			# enable / disable directory listing
	post_policy reject		# post_policy = reject | replace | append
	allowed_methods	GET POST
	cgi_interpreter /usr/bin/python3
	client_max_body_size	-1	# -1 for any size.
}

location /images {
	post_policy replace;
}

#####################
### GLOBAL BLOCKS ###

# "content-type" of known extensions
mime_types {
	html	text/html;
	css		text/css;
	js		application/javascript;
	png		image/png;
	jpg		image/jpeg;
	jpeg	image/jpeg;
	gif		image/gif;
	txt		text/plain;
}

# path for known binary extensions
cgi {
	.py  /usr/bin/python3;
	.php /usr/bin/php-cgi;
}